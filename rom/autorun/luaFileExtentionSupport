--source: http://www.computercraft.info/forums2/index.php?/topic/26889-solved-program-to-alter-craftos/page__view__findpost__p__253512
local oldShellResolve = shell.resolveProgram
shell.resolveProgram = function(program)
  return oldShellResolve(program) or oldShellResolve(program .. ".lua")
end

--source: Lupus590
--contains functions from: http://www.computercraft.info/forums2/index.php?/topic/2716-extension-api/
local oldLoadAPI = os.loadAPI
os.loadAPI = function(api)
  local function get(sName)
    local t = {}
    for sMatch in string.gmatch(sName, "[^%.]+") do
      table.insert(t, sMatch)
    end
    if #t > 1 then
      return string.lower(t[#t])
    else
      return nil
    end
  end
  local function hide(sName)
    local sExt = get(sName)
    if sExt then
      return string.sub(sName, 1, -(string.len(sExt)+2))
    else
      return sName
    end
  end
  return oldLoadAPI(hide(api))
end
